# ══════════════════════════════════════════════════════════
#  Slack Incident Bot - Environment Configuration Template
# ══════════════════════════════════════════════════════════

# ── Server Configuration ──
PORT=3000

# ── Database ──
DATABASE_URL=postgres://incident_bot:password@localhost:5432/incident_bot

# ── Slack API Credentials ──
# Get these from https://api.slack.com/apps -> Your App -> OAuth & Permissions
SLACK_BOT_TOKEN=xoxb-your-bot-token-here

# Get this from https://api.slack.com/apps -> Your App -> Basic Information -> Signing Secret
SLACK_SIGNING_SECRET=your-signing-secret-here

# ── Service Configuration ──
# Comma-separated list of services that can have incidents
SERVICES=auth-service,api-gateway,payment-processor,database,frontend,vpn

# ── Service Owners (Optional) ──
# JSON mapping of service names to arrays of Slack user IDs
# Format: {"service-name": ["USER_ID1", "USER_ID2"]}
SERVICE_OWNERS={"auth-service":["U024BE7LH"],"api-gateway":["U024BE7LH","U024BE7LJ"],"payment-processor":["U024BE7LK"]}

# ── Notification Channels ──
# Channel IDs for severity-based notifications
# P1 incidents notify both channels below + exec DMs
NOTIFICATION_CHANNEL_GENERAL=C024BE91L
# P2 incidents notify this channel only
NOTIFICATION_CHANNEL_ENGINEERING=C024BE92M

# ── Executive Notifications (Optional) ──
# Comma-separated Slack user IDs to DM for P1 incidents
EXEC_NOTIFICATION_USERS=U024BE7LH,U024BE7LJ,U024BE7LK

# ── Statuspage Integration (Optional) ──
# Get API key from https://manage.statuspage.io -> API Info
# Get page ID from your Statuspage URL: https://manage.statuspage.io/pages/{PAGE_ID}
# Leave blank to disable Statuspage integration
STATUSPAGE_API_KEY=
STATUSPAGE_PAGE_ID=

# ── Logging ──
# Log level: trace, debug, info, warn, error
RUST_LOG=incident_bot=info,tower_http=info,axum=info

# ── Development Notes ──
# 1. Copy this file to .env and fill in your actual values
# 2. Never commit .env to version control (.gitignore includes it)
# 3. Slack user/channel IDs can be found by right-clicking in Slack -> Copy Link
#    Format: User ID = U024BE7LH, Channel ID = C024BE91L
# 4. To disable Statuspage, leave STATUSPAGE_* variables empty or commented out
